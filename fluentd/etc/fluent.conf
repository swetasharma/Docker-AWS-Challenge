<source>
  @type mongo_tail
  database nginx_logs
  collection access

  tag app.mongo_log

  # waiting time when there is no next document. default is 1s.
  wait_time 5

  # Convert 'time'(BSON's time) to fluent time(Unix time).
  time_key time

  # Convert ObjectId to string
  object_id_keys ["id_key"]
</source>

<match mongo.**>
  @type mongo

  # You can choose two approaches, connection_string or each parameter
  # 1. connection_string for MongoDB URI
  connection_string mongodb://localhost:27017/nginx_logs

  # 2. specify each parameter
  database nginx_logs
  host localhost
  port 27107

  # collection name to insert
  collection access

  # Set 'capped' if you want to use capped collection
  capped
  capped_size 100m

  # Other buffer configurations here
</match>